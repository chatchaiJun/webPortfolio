{% extends "blogapp/navbar.html" %} {% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% block title %}
    <title>MAKAPI-article</title>
    {% endblock%} {% block extra_css %}
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'blogapp/css/article.css' %}"
    />

    {% endblock %}
  </head>
  <body>
    {% block content %}
    <article class="search-bar">
      <div class="article-search-bar">
        <input
          type="text"
          class="article-input"
          onkeyup="searchFunction()"
          id="search"
          placeholder="Search.."
        />
      </div>
    </article>
    <article class="articles">
      <div class="article-list-container">
        <div class="article-list">
          {% if tag == 'article' %} {% for post in posts %}
          <a href="{% url  'post-details' post.id %}">
            <div class="article-preview">
              <img
                src="{{post.featured_pic.url}}"
                class="article-img-preivew"
                alt="{{post.title}}"
              />
              <div class="article-preview-text">
                <div class="category-container">
                  <p class="tagline">CATEGORY : {{post.category}}</p>
                </div>
                <h3 class="article-preview-title">{{post.title}}</h3>
              </div>
            </div>
          </a>
          {%endfor %} {% endif %} {% if tag == 'project' %} 
          {% for project in projects%}
          <a>
          {% comment %} <a href="{% url  'post-details' post.id %}"> {% endcomment %}
            <div class="article-preview">
              <img
                src="{{project.project_cover.url}}"
                class="article-img-preivew"
                alt="{{project.title}}"
              />
              {% comment %} <div class="article-preview-text">
                <div class="category-container">
                  <p class="tagline">CATEGORY : {{post.category}}</p>
                </div>
                <h3 class="article-preview-title">{{post.title}}</h3>
              </div> {% endcomment %}
            </div>
          </a>
          {%endfor %} {% endif %}
        </div>
        <h2 id="no-results-msg" style="display: none">No articles found.</h2>

        <ul class="pagination">
          {% if posts.has_previous %}
          <li class="page-item">
            <a
              class="page-link"
              href="?page={{posts.previous_page_number}}"
              aria-label="Previous"
            >
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a>
          </li>
          {% endif%} {% for i in posts.paginator.page_range %}
          <li class="page-item">
            <a class="page-link" href="?page={{i}}">{{i}}</a>
          </li>
          {% endfor %} {% if posts.has_next %}
          <li class="page-item">
            <a
              class="page-link {% if pages.number == i%}active{% endif %}"
              href="?page={{posts.next_page_number}}"
              aria-label="Next"
            >
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
          {% endif%}
        </ul>
      </div>
    </article>
    {% endblock%}
  </body>
  {%block scripts%}

  <script src="{% static 'blogapp/js/script.js' %}"></script>
  {%endblock%}
</html>
